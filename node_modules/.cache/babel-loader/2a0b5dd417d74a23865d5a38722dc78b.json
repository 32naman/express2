{"ast":null,"code":"import _toConsumableArray from\"/home/revpro/Desktop/new/ToDoApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/revpro/Desktop/new/ToDoApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import netCalls from'../netCallsShare';var PORT=8000;var sharePOSTURL=\"http://localhost:\".concat(PORT,\"/sharePOST\");function useNewTodo(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),newTodo=_useState2[0],setNewTodo=_useState2[1];var state=props.state,setTodos=props.setTodos;useEffect(function(){if(newTodo!==\"\"){var todosSend=[];setTodos(function(todos){todos.push({text:newTodo.trim(),done:false,id:Math.random()});todosSend=todos;return _toConsumableArray(todos);});netCalls.putJSON(sharePOSTURL,todosSend,state.hash);}},[newTodo,setTodos,state.hash]);return setNewTodo;}function InputTodo(props){var setNewTodo=useNewTodo(props);var inputNewTodo=useRef(null);function addTodo(){var text=inputNewTodo.current.value;setNewTodo(text);inputNewTodo.current.value=\"\";}return/*#__PURE__*/React.createElement(\"div\",{className:\"inputToDo\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",id:\"input\",ref:inputNewTodo,placeholder:\"Enter a To-Do\"}),/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-plus-square\",onClick:addTodo}));}export default InputTodo;","map":{"version":3,"sources":["/home/revpro/Desktop/new/ToDoApp/src/components/InputTodoShare.tsx"],"names":["React","useState","useEffect","useRef","netCalls","PORT","sharePOSTURL","useNewTodo","props","newTodo","setNewTodo","state","setTodos","todosSend","todos","push","text","trim","done","id","Math","random","putJSON","hash","InputTodo","inputNewTodo","addTodo","current","value"],"mappings":"sTAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,CAAoCC,MAApC,KAAiD,OAAjD,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CAEA,GAAMC,CAAAA,IAAI,CAAG,IAAb,CACA,GAAMC,CAAAA,YAAY,4BAAuBD,IAAvB,cAAlB,CAOA,QAASE,CAAAA,UAAT,CAAoBC,KAApB,CAAiC,eACCP,QAAQ,CAAC,EAAD,CADT,wCACtBQ,OADsB,eACbC,UADa,kBAErBC,CAAAA,KAFqB,CAEDH,KAFC,CAErBG,KAFqB,CAEdC,QAFc,CAEDJ,KAFC,CAEdI,QAFc,CAG7BV,SAAS,CAAC,UAAI,CACV,GAAGO,OAAO,GAAK,EAAf,CACA,CACI,GAAII,CAAAA,SAAoB,CAAC,EAAzB,CACAD,QAAQ,CAAC,SAAAE,KAAK,CAAI,CACdA,KAAK,CAACC,IAAN,CAAW,CAACC,IAAI,CAAEP,OAAO,CAACQ,IAAR,EAAP,CAAuBC,IAAI,CAAE,KAA7B,CAAoCC,EAAE,CAAEC,IAAI,CAACC,MAAL,EAAxC,CAAX,EACAR,SAAS,CAAGC,KAAZ,CACA,0BAAWA,KAAX,EACH,CAJO,CAAR,CAMAV,QAAQ,CAACkB,OAAT,CAAiBhB,YAAjB,CAA+BO,SAA/B,CAA0CF,KAAK,CAACY,IAAhD,EACH,CACJ,CAZQ,CAYP,CAACd,OAAD,CAAUG,QAAV,CAAoBD,KAAK,CAACY,IAA1B,CAZO,CAAT,CAcA,MAAOb,CAAAA,UAAP,CACH,CAED,QAASc,CAAAA,SAAT,CAAmBhB,KAAnB,CAA+B,CAC7B,GAAME,CAAAA,UAAU,CAAGH,UAAU,CAACC,KAAD,CAA7B,CACI,GAAMiB,CAAAA,YAAY,CAAGtB,MAAM,CAAmB,IAAnB,CAA3B,CAEA,QAASuB,CAAAA,OAAT,EAAmB,CACjB,GAAMV,CAAAA,IAAI,CAAGS,YAAY,CAACE,OAAb,CAAsBC,KAAnC,CACAlB,UAAU,CAACM,IAAD,CAAV,CACAS,YAAY,CAACE,OAAb,CAAsBC,KAAtB,CAA8B,EAA9B,CACD,CAEH,mBACI,2BAAK,SAAS,CAAC,WAAf,eACI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,EAAE,CAAC,OAAtB,CAA8B,GAAG,CAAEH,YAAnC,CAAiD,WAAW,CAAC,eAA7D,EADJ,cAEI,yBAAG,SAAS,CAAC,oBAAb,CAAkC,OAAO,CAAEC,OAA3C,EAFJ,CADJ,CAMH,CAED,cAAeF,CAAAA,SAAf","sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\nimport netCalls from '../netCallsShare';\nimport {TodoItem,State} from './interfaces';\nconst PORT = 8000;\nconst sharePOSTURL = `http://localhost:${PORT}/sharePOST`;\n\ninterface Props{\n  state:State;\n  setTodos:React.Dispatch<React.SetStateAction<TodoItem[]>>\n}\n\nfunction useNewTodo(props:Props) {\n    const [newTodo, setNewTodo] = useState(\"\");\n    const { state, setTodos } = props;\n    useEffect(()=>{\n        if(newTodo !== \"\")\n        {\n            let todosSend:TodoItem[]=[];\n            setTodos(todos => {\n                todos.push({text: newTodo.trim(), done: false, id: Math.random()});\n                todosSend = todos;\n                return [...todos];\n            })\n\n            netCalls.putJSON(sharePOSTURL, todosSend, state.hash);\n        }\n    },[newTodo, setTodos, state.hash])\n\n    return setNewTodo;\n}\n\nfunction InputTodo(props:Props){\n  const setNewTodo = useNewTodo(props);\n      const inputNewTodo = useRef<HTMLInputElement>(null);\n      \n      function addTodo() {\n        const text = inputNewTodo.current!.value;\n        setNewTodo(text);\n        inputNewTodo.current!.value = \"\"; \n      }\n\n    return (\n        <div className=\"inputToDo\">\n            <input type=\"text\" id=\"input\" ref={inputNewTodo} placeholder=\"Enter a To-Do\"/>\n            <i className=\"fas fa-plus-square\" onClick={addTodo}></i>\n        </div>\n    );  \n}\n\nexport default InputTodo;"]},"metadata":{},"sourceType":"module"}