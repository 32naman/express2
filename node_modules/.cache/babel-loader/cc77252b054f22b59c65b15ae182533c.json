{"ast":null,"code":"import _toConsumableArray from\"/home/revpro/Desktop/new/ToDoApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from\"react\";import netCalls from\"../netCallsMod\";var PORT=8000;var putURL=\"http://localhost:\".concat(PORT,\"/postdata\");var TodoList=function TodoList(_ref){var state=_ref.state,setTodos=_ref.setTodos;var tickOrDelete=function tickOrDelete(event){var btn;if(event.target instanceof HTMLElement)btn=event.target;else return;var todos=state.todos;var item=btn.parentElement;if(item===null)return;var todoText=item.querySelector(\".text\");var ind=todos.findIndex(function(ele){return ele.text===todoText.innerText;});// Tick Case\nif(btn.id===\"tick\"){todos[ind].done=!todos[ind].done;}// Delete Case\nelse if(btn.id===\"delete\"){// item.remove();\ntodos.splice(ind,1);}setTodos(_toConsumableArray(todos));netCalls.putJSON(putURL,state.listNum,todos,state.id_token);};return/*#__PURE__*/React.createElement(\"div\",{className:\"todo\"},/*#__PURE__*/React.createElement(TodoListUI,{state:state,tickOrDelete:tickOrDelete}));};var TodoListUI=function TodoListUI(_ref2){var _state$filteredTodos;var state=_ref2.state,tickOrDelete=_ref2.tickOrDelete;// const { state, tickOrDelete } = props;\nvar Todos=(_state$filteredTodos=state.filteredTodos)!==null&&_state$filteredTodos!==void 0?_state$filteredTodos:state.todos;var todoList=Todos.map(function(todo){var doneTodo=todo.done?\"text lineThrough\":\"text\";return/*#__PURE__*/React.createElement(\"li\",{className:\"item\",key:todo.id},/*#__PURE__*/React.createElement(\"p\",{className:doneTodo},todo.text),/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-check tick\",id:\"tick\",onClick:tickOrDelete}),/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-trash delete\",id:\"delete\",onClick:tickOrDelete}));});return/*#__PURE__*/React.createElement(\"ul\",{id:\"list\"},todoList);};export default TodoList;","map":{"version":3,"sources":["/home/revpro/Desktop/new/ToDoApp/src/components/TodoList.tsx"],"names":["React","netCalls","PORT","putURL","TodoList","state","setTodos","tickOrDelete","event","btn","target","HTMLElement","todos","item","parentElement","todoText","querySelector","ind","findIndex","ele","text","innerText","id","done","splice","putJSON","listNum","id_token","TodoListUI","Todos","filteredTodos","todoList","map","todo","doneTodo"],"mappings":"+JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,gBAArB,CAGA,GAAMC,CAAAA,IAAI,CAAG,IAAb,CACA,GAAMC,CAAAA,MAAM,4BAAuBD,IAAvB,aAAZ,CAYA,GAAME,CAAAA,QAAwC,CAAG,QAA3CA,CAAAA,QAA2C,MAAyB,IAAtBC,CAAAA,KAAsB,MAAtBA,KAAsB,CAAfC,QAAe,MAAfA,QAAe,CACxE,GAAIC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAsD,CACvE,GAAIC,CAAAA,GAAJ,CACA,GAAID,KAAK,CAACE,MAAN,WAAwBC,CAAAA,WAA5B,CAAyCF,GAAG,CAAGD,KAAK,CAACE,MAAZ,CAAzC,IACK,QACL,GAAIE,CAAAA,KAAK,CAAGP,KAAK,CAACO,KAAlB,CAEA,GAAMC,CAAAA,IAAI,CAAGJ,GAAG,CAACK,aAAjB,CACA,GAAID,IAAI,GAAK,IAAb,CAAmB,OACnB,GAAME,CAAAA,QAAQ,CAAGF,IAAI,CAACG,aAAL,CAAmB,OAAnB,CAAjB,CACA,GAAIC,CAAAA,GAAG,CAAGL,KAAK,CAACM,SAAN,CAAgB,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,GAAaL,QAAQ,CAACM,SAA/B,EAAhB,CAAV,CACA;AACA,GAAIZ,GAAG,CAACa,EAAJ,GAAW,MAAf,CAAuB,CACrBV,KAAK,CAACK,GAAD,CAAL,CAAWM,IAAX,CAAkB,CAACX,KAAK,CAACK,GAAD,CAAL,CAAWM,IAA9B,CACD,CACD;AAHA,IAIK,IAAId,GAAG,CAACa,EAAJ,GAAW,QAAf,CAAyB,CAC5B;AACAV,KAAK,CAACY,MAAN,CAAaP,GAAb,CAAkB,CAAlB,EACD,CAEDX,QAAQ,oBAAKM,KAAL,EAAR,CACAX,QAAQ,CAACwB,OAAT,CAAiBtB,MAAjB,CAAyBE,KAAK,CAACqB,OAA/B,CAAwCd,KAAxC,CAA+CP,KAAK,CAACsB,QAArD,EACD,CAtBD,CAwBA,mBACE,2BAAK,SAAS,CAAC,MAAf,eACE,oBAAC,UAAD,EAAY,KAAK,CAAEtB,KAAnB,CAA0B,YAAY,CAAEE,YAAxC,EADF,CADF,CAKD,CA9BD,CAgCA,GAAMqB,CAAAA,UAA4C,CAAG,QAA/CA,CAAAA,UAA+C,OAG/C,6BAFJvB,CAAAA,KAEI,OAFJA,KAEI,CADJE,YACI,OADJA,YACI,CACJ;AACA,GAAIsB,CAAAA,KAAK,uBAAGxB,KAAK,CAACyB,aAAT,6DAA0BzB,KAAK,CAACO,KAAzC,CACA,GAAImB,CAAAA,QAAQ,CAAGF,KAAK,CAACG,GAAN,CAAU,SAACC,IAAD,CAAU,CACjC,GAAIC,CAAAA,QAAQ,CAAGD,IAAI,CAACV,IAAL,CAAY,kBAAZ,CAAiC,MAAhD,CACA,mBACE,0BAAI,SAAS,CAAC,MAAd,CAAqB,GAAG,CAAEU,IAAI,CAACX,EAA/B,eACE,yBAAG,SAAS,CAAEY,QAAd,EAAyBD,IAAI,CAACb,IAA9B,CADF,cAEE,yBAAG,SAAS,CAAC,mBAAb,CAAiC,EAAE,CAAC,MAApC,CAA2C,OAAO,CAAEb,YAApD,EAFF,cAGE,yBACE,SAAS,CAAC,qBADZ,CAEE,EAAE,CAAC,QAFL,CAGE,OAAO,CAAEA,YAHX,EAHF,CADF,CAWD,CAbc,CAAf,CAcA,mBAAO,0BAAI,EAAE,CAAC,MAAP,EAAewB,QAAf,CAAP,CACD,CArBD,CAuBA,cAAe3B,CAAAA,QAAf","sourcesContent":["import React from \"react\";\nimport netCalls from \"../netCallsMod\";\nimport { State, TodoItem } from \"./TodoApp\";\n\nconst PORT = 8000;\nconst putURL = `http://localhost:${PORT}/postdata`;\n\ntype Props = {\n  state: State;\n  setTodos: React.Dispatch<React.SetStateAction<TodoItem[]>>;\n};\n\ntype PropsUI = {\n  state: State;\n  tickOrDelete: (event: any) => void;\n};\n\nconst TodoList: React.FunctionComponent<Props> = ({ state, setTodos }) => {\n  let tickOrDelete = (event: React.MouseEvent<HTMLElement, MouseEvent>) => {\n    let btn: HTMLElement;\n    if (event.target instanceof HTMLElement) btn = event.target;\n    else return;\n    let todos = state.todos;\n\n    const item = btn.parentElement;\n    if (item === null) return;\n    const todoText = item.querySelector(\".text\") as HTMLElement;\n    let ind = todos.findIndex((ele) => ele.text === todoText.innerText);\n    // Tick Case\n    if (btn.id === \"tick\") {\n      todos[ind].done = !todos[ind].done;\n    }\n    // Delete Case\n    else if (btn.id === \"delete\") {\n      // item.remove();\n      todos.splice(ind, 1);\n    }\n\n    setTodos([...todos]);\n    netCalls.putJSON(putURL, state.listNum, todos, state.id_token);\n  };\n\n  return (\n    <div className=\"todo\">\n      <TodoListUI state={state} tickOrDelete={tickOrDelete} />\n    </div>\n  );\n};\n\nconst TodoListUI: React.FunctionComponent<PropsUI> = ({\n  state,\n  tickOrDelete,\n}) => {\n  // const { state, tickOrDelete } = props;\n  let Todos = state.filteredTodos ?? state.todos;\n  let todoList = Todos.map((todo) => {\n    let doneTodo = todo.done ? \"text lineThrough\" : \"text\";\n    return (\n      <li className=\"item\" key={todo.id}>\n        <p className={doneTodo}>{todo.text}</p>\n        <i className=\"fas fa-check tick\" id=\"tick\" onClick={tickOrDelete}></i>\n        <i\n          className=\"fas fa-trash delete\"\n          id=\"delete\"\n          onClick={tickOrDelete}\n        ></i>\n      </li>\n    );\n  });\n  return <ul id=\"list\">{todoList}</ul>;\n};\n\nexport default TodoList;\n"]},"metadata":{},"sourceType":"module"}