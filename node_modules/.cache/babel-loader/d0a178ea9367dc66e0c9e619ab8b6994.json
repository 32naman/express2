{"ast":null,"code":"var _jsxFileName = \"/home/revpro/Desktop/new/ToDoAppReact/ToDoApp/src/components/ScreenSharing.tsx\";\nimport React, { useRef } from \"react\";\nconst PORT = 8000;\nconst screenShareURL = `http://localhost:${PORT}/screenShare`; // const socketURL = `ws://localhost:${PORT}/screenShareClient`;\n\nfunction ScreenSharing(props) {\n  const shareCode = useRef(null);\n\n  let toggleScreenSharing = e => {\n    console.log(\"Reaching 1\");\n\n    if (props.sharing === \"off\") {\n      console.log(\"Reaching 2\");\n      let result = Math.floor(Math.random() * (999999 - 100000)) + 100000;\n      let shareURL = `http://localhost:4000/screen?hash=${result}`;\n      if (shareCode.current != null) shareCode.current.innerHTML = `<a href=\"${shareURL}\" target=\"_blank\">${shareURL}</a>`;\n      props.setSharing(result.toString());\n    } else {\n      console.log(\"Reaching 3\");\n      props.setSharing(\"off\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ScreenSharingUI, {\n    toggleScreenSharing: toggleScreenSharing,\n    shareCodeRef: shareCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  });\n}\n\nconst ScreenSharingUI = props => {\n  const {\n    toggleScreenSharing,\n    shareCodeRef\n  } = props;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"screenShareLink\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    id: \"shareCode\",\n    ref: shareCodeRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"Code for Screen Sharing\"), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-share-alt\",\n    id: \"genCode\",\n    onClick: toggleScreenSharing,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ScreenSharing;","map":{"version":3,"sources":["/home/revpro/Desktop/new/ToDoAppReact/ToDoApp/src/components/ScreenSharing.tsx"],"names":["React","useRef","PORT","screenShareURL","ScreenSharing","props","shareCode","toggleScreenSharing","e","console","log","sharing","result","Math","floor","random","shareURL","current","innerHTML","setSharing","toString","ScreenSharingUI","shareCodeRef"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AAGA,MAAMC,IAAI,GAAG,IAAb;AACA,MAAMC,cAAc,GAAI,oBAAmBD,IAAK,cAAhD,C,CACA;;AAOA,SAASE,aAAT,CAAuBC,KAAvB,EAAqC;AACnC,QAAMC,SAAS,GAAGL,MAAM,CAAuB,IAAvB,CAAxB;;AAEA,MAAIM,mBAAmB,GAAIC,CAAD,IAAkD;AAC1EC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;;AACA,QAAIL,KAAK,CAACM,OAAN,KAAkB,KAAtB,EAA6B;AAC3BF,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,UAAIE,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiB,SAAS,MAA1B,CAAX,IAAgD,MAA7D;AACA,UAAIC,QAAQ,GAAI,qCAAoCJ,MAAO,EAA3D;AACA,UAAIN,SAAS,CAACW,OAAV,IAAqB,IAAzB,EACEX,SAAS,CAACW,OAAV,CAAkBC,SAAlB,GAA+B,YAAWF,QAAS,qBAAoBA,QAAS,MAAhF;AACFX,MAAAA,KAAK,CAACc,UAAN,CAAiBP,MAAM,CAACQ,QAAP,EAAjB;AACD,KAPD,MAOO;AACLX,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAL,MAAAA,KAAK,CAACc,UAAN,CAAiB,KAAjB;AACD;AACF,GAbD;;AAeA,sBACE,oBAAC,eAAD;AACE,IAAA,mBAAmB,EAAEZ,mBADvB;AAEE,IAAA,YAAY,EAAED,SAFhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAMD;;AASD,MAAMe,eAAe,GAAIhB,KAAD,IAAmB;AACzC,QAAM;AAAEE,IAAAA,mBAAF;AAAuBe,IAAAA;AAAvB,MAAwCjB,KAA9C;AACA,sBACE;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAG,IAAA,EAAE,EAAC,WAAN;AAAkB,IAAA,GAAG,EAAEiB,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,eAIE;AACE,IAAA,SAAS,EAAC,kBADZ;AAEE,IAAA,EAAE,EAAC,SAFL;AAGE,IAAA,OAAO,EAAEf,mBAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,CADF;AAYD,CAdD;;AAgBA,eAAeH,aAAf","sourcesContent":["import React, { useRef } from \"react\";\nimport netCalls from \"../netCallsMod\";\n\nconst PORT = 8000;\nconst screenShareURL = `http://localhost:${PORT}/screenShare`;\n// const socketURL = `ws://localhost:${PORT}/screenShareClient`;\n\ntype Props = {\n  sharing: string;\n  setSharing: React.Dispatch<React.SetStateAction<string>>;\n};\n\nfunction ScreenSharing(props: Props) {\n  const shareCode = useRef<HTMLParagraphElement>(null);\n\n  let toggleScreenSharing = (e: React.MouseEvent<HTMLElement, MouseEvent>) => {\n    console.log(\"Reaching 1\");\n    if (props.sharing === \"off\") {\n      console.log(\"Reaching 2\");\n      let result = Math.floor(Math.random() * (999999 - 100000)) + 100000;\n      let shareURL = `http://localhost:4000/screen?hash=${result}`;\n      if (shareCode.current != null)\n        shareCode.current.innerHTML = `<a href=\"${shareURL}\" target=\"_blank\">${shareURL}</a>`;\n      props.setSharing(result.toString());\n    } else {\n      console.log(\"Reaching 3\");\n      props.setSharing(\"off\");\n    }\n  };\n\n  return (\n    <ScreenSharingUI\n      toggleScreenSharing={toggleScreenSharing}\n      shareCodeRef={shareCode}\n    />\n  );\n}\n\ntype Props1 = {\n  toggleScreenSharing: (\n    event: React.MouseEvent<HTMLElement, MouseEvent>\n  ) => void;\n  shareCodeRef: React.RefObject<HTMLParagraphElement>;\n};\n\nconst ScreenSharingUI = (props: Props1) => {\n  const { toggleScreenSharing, shareCodeRef } = props;\n  return (\n    <div className=\"screenShareLink\">\n      <p id=\"shareCode\" ref={shareCodeRef}>\n        Code for Screen Sharing\n      </p>\n      <i\n        className=\"fas fa-share-alt\"\n        id=\"genCode\"\n        onClick={toggleScreenSharing}\n      ></i>\n    </div>\n  );\n};\n\nexport default ScreenSharing;\n"]},"metadata":{},"sourceType":"module"}