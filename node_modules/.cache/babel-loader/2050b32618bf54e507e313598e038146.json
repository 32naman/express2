{"ast":null,"code":"import _toConsumableArray from\"/home/revpro/Desktop/new/ToDoApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React from'react';import netCalls from'../netCallsShare';var PORT=8000;var sharePOSTURL=\"http://localhost:\".concat(PORT,\"/sharePOST\");function TodoList(props){var tickOrDelete=function tickOrDelete(event){var btn=event.target;var todos=props.state.todos;var item=btn.parentElement;var ind=0;if(item!=null){var todoText=item.querySelector('.text');if(todoText!=null)ind=todos.findIndex(function(ele){return ele.text===todoText.innerText;});console.log(ind);}// Tick Case\nif(btn.id==='tick'){todos[ind].done=!todos[ind].done;props.setTodos(_toConsumableArray(todos));netCalls.putJSON(sharePOSTURL,todos,props.state.hash);}// Delete Case\nelse if(btn.id==='delete'){// item.remove();\ntodos.splice(ind,1);props.setTodos(_toConsumableArray(todos));netCalls.putJSON(sharePOSTURL,todos,props.state.hash);}};return/*#__PURE__*/React.createElement(\"div\",{className:\"todo\"},/*#__PURE__*/React.createElement(TodoListUI,{state:props.state,tickOrDelete:tickOrDelete}));}var TodoListUI=function TodoListUI(props){var _state$filteredTodos;var state=props.state,tickOrDelete=props.tickOrDelete;var todos=(_state$filteredTodos=state.filteredTodos)!==null&&_state$filteredTodos!==void 0?_state$filteredTodos:state.todos;var todoList=todos.map(function(todo){var doneTodo=todo.done?\"text lineThrough\":\"text\";return/*#__PURE__*/React.createElement(\"li\",{className:\"item\",key:todo.id},/*#__PURE__*/React.createElement(\"p\",{className:doneTodo},todo.text),/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-check tick\",id:\"tick\",onClick:tickOrDelete}),/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-trash delete\",id:\"delete\",onClick:tickOrDelete}));});return/*#__PURE__*/React.createElement(\"ul\",{id:\"list\"},todoList);};export default TodoList;","map":{"version":3,"sources":["/home/revpro/Desktop/new/ToDoApp/src/components/TodoListShare.tsx"],"names":["React","netCalls","PORT","sharePOSTURL","TodoList","props","tickOrDelete","event","btn","target","todos","state","item","parentElement","ind","todoText","querySelector","findIndex","ele","text","innerText","console","log","id","done","setTodos","putJSON","hash","splice","TodoListUI","filteredTodos","todoList","map","todo","doneTodo"],"mappings":"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","sourcesContent":["import React from 'react';\nimport netCalls from '../netCallsShare';\nimport {State,TodoItem} from './interfaces';\nconst PORT = 8000;\nconst sharePOSTURL = `http://localhost:${PORT}/sharePOST`;\n\ntype Props = {\n  state: State;\n  setTodos: React.Dispatch<React.SetStateAction<TodoItem[]>>;\n};\n\ntype PropsUI = {\n  state: State;\n  tickOrDelete: (event: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n};\n\nfunction TodoList(props:Props) {\n\n    let tickOrDelete = (event: React.MouseEvent<HTMLElement, MouseEvent>) => {\n        const btn = event.target as HTMLElement;\n        let todos = props.state.todos; \n\n        const item = btn.parentElement;\n        let ind:number=0;\n        if(item!=null){\n          const todoText = item.querySelector('.text') as HTMLParagraphElement;\n          if(todoText!=null)\n            ind= todos.findIndex(ele => ele.text === todoText.innerText);\n          console.log(ind);\n        }\n        // Tick Case\n        if(btn.id === 'tick'){\n            todos[ind].done = !todos[ind].done;\n    \n            props.setTodos(\n              [...todos]\n            );\n            netCalls.putJSON(sharePOSTURL, todos, props.state.hash);\n        }\n        // Delete Case\n        else if(btn.id === 'delete'){\n            // item.remove();\n            todos.splice(ind,1);\n    \n            props.setTodos(\n                [...todos]\n            );\n            netCalls.putJSON(sharePOSTURL, todos, props.state.hash);    \n        }\n    }    \n\n    return (\n        <div className=\"todo\">\n            <TodoListUI state={props.state} \n            tickOrDelete={tickOrDelete}/>\n        </div>\n    ); \n}\n\nconst TodoListUI = (props:PropsUI) => {\n    const { state, tickOrDelete } = props;\n    let todos = state.filteredTodos ?? state.todos;\n    let todoList = todos.map( todo => {\n        let doneTodo = todo.done ? \"text lineThrough\" : \"text\";\n        return (\n            <li className=\"item\" key={todo.id}>\n                <p className={doneTodo}>{todo.text}</p>\n                <i className=\"fas fa-check tick\" id=\"tick\" onClick={tickOrDelete}></i>\n                <i className=\"fas fa-trash delete\" id=\"delete\" onClick={tickOrDelete}></i>\n            </li>\n        )\n    }) \n    return (\n        <ul id='list'>\n            {todoList}\n        </ul>\n    );\n}\n\nexport default TodoList;"]},"metadata":{},"sourceType":"module"}