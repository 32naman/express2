{"ast":null,"code":"import _regeneratorRuntime from\"/home/revpro/Desktop/new/ToDoApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/revpro/Desktop/new/ToDoApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var netCalls=function(){function getJSON(_x,_x2,_x3,_x4){return _getJSON.apply(this,arguments);}function _getJSON(){_getJSON=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url,listNum,callback,id_token){var postMessage,response,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// const id_token = localStorage.getItem(\"token\");\nconsole.log(url);console.log(id_token);postMessage=\"id_token=\"+id_token+\"&listNum=\"+listNum;_context.next=5;return fetch(url,{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded;charset=utf-8\"},body:postMessage});case 5:response=_context.sent;_context.next=8;return response.json();case 8:result=_context.sent;if(response.status===200){callback(null,result);}else{callback(response.status,result);}case 10:case\"end\":return _context.stop();}}},_callee);}));return _getJSON.apply(this,arguments);}function putJSON(_x5,_x6,_x7,_x8){return _putJSON.apply(this,arguments);}function _putJSON(){_putJSON=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url,listNum,todos,id_token){var postJSON;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:// const id_token = localStorage.getItem(\"token\");\npostJSON={token:id_token,listNum:listNum,json:JSON.stringify(todos)};_context2.next=3;return fetch(url,{method:\"POST\",headers:{\"Content-Type\":\"application/json;charset=utf-8\"},body:JSON.stringify(postJSON)});case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _putJSON.apply(this,arguments);}function verifyToken(_x9,_x10){return _verifyToken.apply(this,arguments);}function _verifyToken(){_verifyToken=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(url,id_token){var postMessage,response,result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// const id_token = localStorage.getItem(\"token\");\nconsole.log(id_token);postMessage=\"id_token=\"+id_token;_context3.next=4;return fetch(url,{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded;charset=utf-8\"},body:postMessage});case 4:response=_context3.sent;_context3.next=7;return response.text();case 7:result=_context3.sent;console.log(\"Signed in as: \"+result);case 9:case\"end\":return _context3.stop();}}},_callee3);}));return _verifyToken.apply(this,arguments);}function generateLink(_x11,_x12,_x13){return _generateLink.apply(this,arguments);}function _generateLink(){_generateLink=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(url,listNum,id_token){var postMessage,response,result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:// const id_token = localStorage.getItem(\"token\");\npostMessage=\"id_token=\"+id_token+\"&listNum=\"+listNum;_context4.next=3;return fetch(url,{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded;charset=utf-8\"},body:postMessage});case 3:response=_context4.sent;_context4.next=6;return response.text();case 6:result=_context4.sent;return _context4.abrupt(\"return\",result);case 8:case\"end\":return _context4.stop();}}},_callee4);}));return _generateLink.apply(this,arguments);}function generateSSCode(_x14){return _generateSSCode.apply(this,arguments);}function _generateSSCode(){_generateSSCode=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(url){var response,result;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(url,{method:\"POST\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded;charset=utf-8\"},body:undefined});case 2:response=_context5.sent;_context5.next=5;return response.text();case 5:result=_context5.sent;return _context5.abrupt(\"return\",result);case 7:case\"end\":return _context5.stop();}}},_callee5);}));return _generateSSCode.apply(this,arguments);}return{getJSON:getJSON,putJSON:putJSON,verifyToken:verifyToken,generateLink:generateLink,generateSSCode:generateSSCode};}();export default netCalls;","map":{"version":3,"sources":["/home/revpro/Desktop/new/ToDoApp/src/netCallsMod.ts"],"names":["netCalls","getJSON","url","listNum","callback","id_token","console","log","postMessage","fetch","method","headers","body","response","json","result","status","putJSON","todos","postJSON","token","JSON","stringify","verifyToken","text","generateLink","generateSSCode","undefined"],"mappings":"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","sourcesContent":["var netCalls = (function () {\n  async function getJSON(\n    url: string,\n    listNum: number,\n    callback: (err: number | null, data: object) => void,\n    id_token: string | null\n  ) {\n    // const id_token = localStorage.getItem(\"token\");\n    console.log(url);\n    console.log(id_token);\n\n    let postMessage = \"id_token=\" + id_token + \"&listNum=\" + listNum;\n    let response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded;charset=utf-8\",\n      },\n      body: postMessage,\n    });\n    let result = await response.json();\n    if (response.status === 200) {\n      callback(null, result);\n    } else {\n      callback(response.status, result);\n    }\n  }\n\n  async function putJSON(\n    url: string,\n    listNum: number,\n    todos: object[],\n    id_token: string | null\n  ) {\n    // const id_token = localStorage.getItem(\"token\");\n\n    let postJSON = {\n      token: id_token,\n      listNum: listNum,\n      json: JSON.stringify(todos),\n    };\n    await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json;charset=utf-8\",\n      },\n      body: JSON.stringify(postJSON),\n    });\n  }\n\n  async function verifyToken(url: string, id_token: string | null) {\n    // const id_token = localStorage.getItem(\"token\");\n    console.log(id_token);\n\n    let postMessage = \"id_token=\" + id_token;\n    let response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded;charset=utf-8\",\n      },\n      body: postMessage,\n    });\n    let result = await response.text();\n    console.log(\"Signed in as: \" + result);\n  }\n\n  async function generateLink(\n    url: string,\n    listNum: number,\n    id_token: string | null\n  ) {\n    // const id_token = localStorage.getItem(\"token\");\n\n    let postMessage = \"id_token=\" + id_token + \"&listNum=\" + listNum;\n    let response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded;charset=utf-8\",\n      },\n      body: postMessage,\n    });\n    let result = await response.text();\n    // linkAdd.innerHTML = `<a href=\"${result}\" target=\"_blank\">${result}</a>`;\n    return result;\n  }\n\n  async function generateSSCode(url: string) {\n    let response = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded;charset=utf-8\",\n      },\n      body: undefined,\n    });\n    let result = await response.text();\n    return result;\n  }\n\n  return {\n    getJSON: getJSON,\n    putJSON: putJSON,\n    verifyToken: verifyToken,\n    generateLink: generateLink,\n    generateSSCode: generateSSCode,\n  };\n})();\n\nexport default netCalls;\n"]},"metadata":{},"sourceType":"module"}